<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="758px" preserveAspectRatio="none" style="width:499px;height:758px;background:#FFFFFF;" version="1.1" viewBox="0 0 499 758" width="499px" zoomAndPan="magnify"><defs><filter height="300%" id="f1m8nmhqa8dwxb" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[3033666b299940720da52d7acf40ab9f]
cluster mld--><polygon fill="#FFFFFF" filter="url(#f1m8nmhqa8dwxb)" points="16,6,50,6,57,28.4883,482,28.4883,482,751,16,751,16,6" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="57" y1="28.4883" y2="28.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="28" x="20" y="21.5352">mld</text><!--MD5=[e858af084306b6893e511512445fa96f]
class AgreementCondition--><rect codeLine="10" fill="#FEFECE" filter="url(#f1m8nmhqa8dwxb)" height="68.3984" id="AgreementCondition" style="stroke:#A80036;stroke-width:1.5;" width="123" x="32.5" y="202.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="62" x="63" y="219.1016">«statutory»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="100" x="44" y="233.2344">«extension point»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="117" x="35.5" y="247.3672">AgreementCondition</text><line style="stroke:#A80036;stroke-width:1.5;" x1="33.5" x2="154.5" y1="254.8984" y2="254.8984"/><line style="stroke:#A80036;stroke-width:1.5;" x1="33.5" x2="154.5" y1="262.8984" y2="262.8984"/><!--MD5=[bfe80886124190284096452d0cb4568d]
class Principal--><rect codeLine="12" fill="#FEFECE" filter="url(#f1m8nmhqa8dwxb)" height="54.2656" id="Principal" style="stroke:#A80036;stroke-width:1.5;" width="102" x="219" y="674"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="100" x="220" y="690.6016">«extension point»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49" x="245.5" y="704.7344">Principal</text><line style="stroke:#A80036;stroke-width:1.5;" x1="220" x2="320" y1="712.2656" y2="712.2656"/><line style="stroke:#A80036;stroke-width:1.5;" x1="220" x2="320" y1="720.2656" y2="720.2656"/><path d="M356.5,680.5 L356.5,697 L321.22,701 L356.5,705 L356.5,721.1211 A0,0 0 0 0 356.5,721.1211 L465.5,721.1211 A0,0 0 0 0 465.5,721.1211 L465.5,690.5 L455.5,680.5 L356.5,680.5 A0,0 0 0 0 356.5,680.5 " fill="#FBFB77" filter="url(#f1m8nmhqa8dwxb)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M455.5,680.5 L455.5,690.5 L465.5,690.5 L455.5,680.5 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="362.5" y="698.0684">gives access</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="362.5" y="713.3789">to the domain</text><!--MD5=[e26da8d9b15ec4cf349417821c15ab26]
class PkiPrincipal--><rect codeLine="17" fill="#FEFECE" filter="url(#f1m8nmhqa8dwxb)" height="53.0879" id="PkiPrincipal" style="stroke:#A80036;stroke-width:1.5;" width="107" x="333.5" y="451.5"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="66" x="354" y="468.1016">PkiPrincipal</text><line style="stroke:#A80036;stroke-width:1.5;" x1="334.5" x2="439.5" y1="475.6328" y2="475.6328"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="95" x="339.5" y="490.2676">publicKey : binary</text><line style="stroke:#A80036;stroke-width:1.5;" x1="334.5" x2="439.5" y1="496.5879" y2="496.5879"/><!--MD5=[2fa5fbc8e001eea309e0c2d7ce9724cc]
class Authority--><rect codeLine="22" fill="#FEFECE" filter="url(#f1m8nmhqa8dwxb)" height="40.1328" id="Authority" style="stroke:#A80036;stroke-width:1.5;" width="57" x="408.5" y="216.5"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="51" x="411.5" y="233.1016">Authority</text><line style="stroke:#A80036;stroke-width:1.5;" x1="409.5" x2="464.5" y1="240.6328" y2="240.6328"/><line style="stroke:#A80036;stroke-width:1.5;" x1="409.5" x2="464.5" y1="248.6328" y2="248.6328"/><path d="M191,197 L191,276.2422 A0,0 0 0 0 191,276.2422 L373,276.2422 A0,0 0 0 0 373,276.2422 L373,240.5 L408.06,236.5 L373,232.5 L373,207 L363,197 L191,197 A0,0 0 0 0 191,197 " fill="#FBFB77" filter="url(#f1m8nmhqa8dwxb)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M363,197 L363,207 L373,207 L363,197 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="197" y="214.5684">Authority is permission</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="197" y="229.8789">to unilaterally agree.</text><line style="stroke:#A80036;stroke-width:1.0;" x1="192" x2="372" y1="232.6211" y2="232.6211"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="197" y="249.1895">A "lock" is just temporary</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="197" y="264.5">exclusive authority.</text><rect fill="#FFC0CB" filter="url(#f1m8nmhqa8dwxb)" height="34.1328" style="stroke:#A80036;stroke-width:1.5;" width="85" x="331.5" y="63.5"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="71" x="338.5" y="77.1016">hasAuthority</text><line style="stroke:#A80036;stroke-width:1.5;" x1="332.5" x2="415.5" y1="81.6328" y2="81.6328"/><!--MD5=[03da7ad6344b0b2c818a169ad3cc63fd]
class Permission--><rect codeLine="35" fill="#FEFECE" filter="url(#f1m8nmhqa8dwxb)" height="54.2656" id="Permission" style="stroke:#A80036;stroke-width:1.5;" width="68" x="230" y="451"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="62" x="233" y="467.6016">«statutory»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="62" x="233" y="481.7344">Permission</text><line style="stroke:#A80036;stroke-width:1.5;" x1="231" x2="297" y1="489.2656" y2="489.2656"/><line style="stroke:#A80036;stroke-width:1.5;" x1="231" x2="297" y1="497.2656" y2="497.2656"/><!--MD5=[ee60552bc4698d86a6bc3ed4a603a080]
class AccessControl--><rect codeLine="58" fill="#FEFECE" filter="url(#f1m8nmhqa8dwxb)" height="68.3984" id="AccessControl" style="stroke:#A80036;stroke-width:1.5;" width="102" x="57" y="667"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="62" x="77" y="683.6016">«statutory»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="100" x="58" y="697.7344">«extension point»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="80" x="68" y="711.8672">AccessControl</text><line style="stroke:#A80036;stroke-width:1.5;" x1="58" x2="158" y1="719.3984" y2="719.3984"/><line style="stroke:#A80036;stroke-width:1.5;" x1="58" x2="158" y1="727.3984" y2="727.3984"/><!--MD5=[351b359b29cff09e6a4a566bc97215f7]
class WritePermission--><rect codeLine="38" fill="#FEFECE" filter="url(#f1m8nmhqa8dwxb)" height="53.0879" id="WritePermission" style="stroke:#A80036;stroke-width:1.5;" width="156" x="283" y="337"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="91" x="315.5" y="353.6016">WritePermission</text><line style="stroke:#A80036;stroke-width:1.5;" x1="284" x2="438" y1="361.1328" y2="361.1328"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="144" x="289" y="375.7676">controlledShape : sh:Shape</text><line style="stroke:#A80036;stroke-width:1.5;" x1="284" x2="438" y1="382.0879" y2="382.0879"/><!--MD5=[b1b74276e73eebfca416c610f92c7db6]
class RaftConsensus--><rect codeLine="44" fill="#FEFECE" filter="url(#f1m8nmhqa8dwxb)" height="78.998" id="RaftConsensus" style="stroke:#A80036;stroke-width:1.5;" width="131" x="134.5" y="41"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="84" x="158" y="57.6016">RaftConsensus</text><line style="stroke:#A80036;stroke-width:1.5;" x1="135.5" x2="264.5" y1="65.1328" y2="65.1328"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="58" x="140.5" y="79.7676">mtbf : float</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="119" x="140.5" y="92.7227">electionTimeout : float</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="113" x="140.5" y="105.6777">broadcastTime : float</text><line style="stroke:#A80036;stroke-width:1.5;" x1="135.5" x2="264.5" y1="111.998" y2="111.998"/><!--MD5=[b0a73b92b181cdd4e48969b2967af167]
class External--><rect codeLine="51" fill="#FEFECE" filter="url(#f1m8nmhqa8dwxb)" height="40.1328" id="External" style="stroke:#A80036;stroke-width:1.5;" width="53" x="46.5" y="60.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="47" x="49.5" y="77.1016">External</text><line style="stroke:#A80036;stroke-width:1.5;" x1="47.5" x2="98.5" y1="84.6328" y2="84.6328"/><line style="stroke:#A80036;stroke-width:1.5;" x1="47.5" x2="98.5" y1="92.6328" y2="92.6328"/><rect fill="#FFC0CB" filter="url(#f1m8nmhqa8dwxb)" height="37.9102" style="stroke:#A80036;stroke-width:1.5;" width="87" x="36.5" y="459"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="63" x="48.5" y="472.6016">&lt;domain&gt;</text><line style="stroke:#A80036;stroke-width:1.5;" x1="37.5" x2="122.5" y1="477.1328" y2="477.1328"/><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="75" x="42.5" y="490.8008">secret = "abcd"</text><!--MD5=[d3f27dc1455737c761dd9cc39245b61f]
link PkiPrincipal to Principal--><path codeLine="20" d="M390.48,504.71 C393.63,537.91 394.47,596.27 369,637 C364.35,644.44 351.63,654 336.79,663.41 " fill="none" id="PkiPrincipal-to-Principal" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="340.21,669.53,319.46,673.86,332.98,657.54,340.21,669.53" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[c4dafc91941daf8ea94ba467a946a13d]
link hasAuthority to AgreementCondition--><path codeLine="31" d="M344.83,97.54 C301.08,121.61 217.35,167.66 158.71,199.91 " fill="none" id="hasAuthority-to-AgreementCondition" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="154.18,202.4,163.9954,201.5885,158.5662,199.9997,160.1549,194.5706,154.18,202.4" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="243" y="163.5684">rdf:type</text><!--MD5=[1ac6cc4daac6ff61c6b2f08354f8377d]
link hasAuthority to Authority--><path codeLine="32" d="M380.62,97.69 C391.72,124.81 414.12,179.57 427.09,211.29 " fill="none" id="hasAuthority-to-Authority" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="429.09,216.17,429.3727,206.3252,427.1913,211.5445,421.9719,209.3632,429.09,216.17" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="408" y="163.5684">«require»</text><!--MD5=[4af3da69a748770557492dfddba56560]
link Permission to Principal--><path codeLine="33" d="M265.07,518.49 C266.16,558.64 268.9733,661.8142 268.9733,661.8142 " fill="none" id="Permission-Principal" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="269.29,673.81,273.1302,667.7065,268.9733,661.8142,265.133,667.9177,269.29,673.81" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="264.71,505.22,260.9589,514.3266,264.8475,510.2181,268.9559,514.1066,264.71,505.22" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="264.8475" x2="265.065" y1="510.2181" y2="518.215"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="269" y="591.0684">hasPermission</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="6" x="258.1804" y="525.8226">*</text><!--MD5=[cb7c95fcd55ad0de7117334bc44c0516]
link Permission to AccessControl--><path codeLine="36" d="M259.97,505.23 C253.5,544.6 239.89,616.56 224,637 C211.84,652.65 194.66,664.91 177.24,674.29 " fill="none" id="Permission-to-AccessControl" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="180.25,680.61,159.2,683.05,174.14,668.02,180.25,680.61" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[245fa1357f83202a06664675712ecc9b]
link Authority to WritePermission--><path codeLine="41" d="M425.29,256.76 C415.13,273.47 400.04,298.28 387.04,319.67 " fill="none" id="Authority-to-WritePermission" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="392.91,323.48,376.54,336.94,380.95,316.21,392.91,323.48" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[d2a4eed77645d446c222f15609846f62]
link WritePermission to Permission--><path codeLine="42" d="M338.99,390.03 C327.5,403.36 313.14,420.01 300.07,435.16 " fill="none" id="WritePermission-to-Permission" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="304.96,440.22,286.6,450.79,294.36,431.07,304.96,440.22" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[e8aa35b51a72e5a4a047b4cd8248957d]
link RaftConsensus to AgreementCondition--><path codeLine="49" d="M173.25,120.36 C159.58,140.23 142.78,164.63 128.18,185.85 " fill="none" id="RaftConsensus-to-AgreementCondition" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="133.89,189.89,116.79,202.39,122.36,181.95,133.89,189.89" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[ad4174f246f69aa3bdc0adb50174fd0f]
link External to AgreementCondition--><path codeLine="52" d="M75.62,100.69 C78.39,121.03 82.89,154.05 86.75,182.32 " fill="none" id="External-to-AgreementCondition" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="93.7,181.5,89.47,202.27,79.83,183.39,93.7,181.5" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[f5d0b4afdc19367f7fc31d30f453502c]
link domain to AccessControl--><path codeLine="59" d="M76.78,497.31 C72.19,527.07 65.5,587.57 77,637 C78.94,645.36 82.16,653.88 85.81,661.85 " fill="none" id="domain-to-AccessControl" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="88.13,666.73,87.8587,656.8849,85.9742,662.2186,80.6405,660.3341,88.13,666.73" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="113" y="548.5684">«statutory»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="127.5" y="563.8789">access</text><path d="M82,572.6211 L82,627.6211 L211,627.6211 L211,582.6211 L201,572.6211 L82,572.6211 " fill="#FBFB77" filter="url(#f1m8nmhqa8dwxb)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M201,572.6211 L201,582.6211 L211,582.6211 L201,572.6211 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="88" y="590.1895">added by the app</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="88" y="605.5">to specify use of</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="88" y="620.8105">e.g. Permissions</text><!--MD5=[a8b4b891751c6705208717c84aac84fc]
@startuml
'https://plantuml.com/object-diagram
hide circle

skinparam object {
  BackgroundColor Pink
}

package mld {

class AgreementCondition <<statutory>> <<extension point>>

abstract class Principal <<extension point>>
note right
gives access
to the domain
end note
class PkiPrincipal {
  publicKey : binary
}
PkiPrincipal - -|> Principal

class Authority
note left
Authority is permission
to unilaterally agree.
- - -
A "lock" is just temporary
exclusive authority.
end note
object hasAuthority
hasAuthority - -> AgreementCondition : rdf:type
hasAuthority ..> Authority : <<require>>
Permission "*" <- -o Principal : hasPermission

abstract class Permission <<statutory>>
Permission - -|> AccessControl

class WritePermission {
  controlledShape : sh:Shape
}
Authority - -|> WritePermission
WritePermission - -|> Permission

class RaftConsensus {
  mtbf : float
  electionTimeout : float
  broadcastTime : float
}
RaftConsensus - -|> AgreementCondition

abstract class External
External - -|> AgreementCondition

object "<domain>" as domain {
  secret = "abcd"
}

abstract class AccessControl <<statutory>> <<extension point>>
domain ..> AccessControl : <<statutory>>\naccess
note on link
added by the app
to specify use of
e.g. Permissions
end note

}
@enduml

@startuml
hide circle

skinparam object {
  BackgroundColor Pink
}

package mld {

class AgreementCondition <<statutory>> <<extension point>>

abstract class Principal <<extension point>>
note right
gives access
to the domain
end note
class PkiPrincipal {
  publicKey : binary
}
PkiPrincipal - -|> Principal

class Authority
note left
Authority is permission
to unilaterally agree.
- - -
A "lock" is just temporary
exclusive authority.
end note
object hasAuthority
hasAuthority - -> AgreementCondition : rdf:type
hasAuthority ..> Authority : <<require>>
Permission "*" <- -o Principal : hasPermission

abstract class Permission <<statutory>>
Permission - -|> AccessControl

class WritePermission {
  controlledShape : sh:Shape
}
Authority - -|> WritePermission
WritePermission - -|> Permission

class RaftConsensus {
  mtbf : float
  electionTimeout : float
  broadcastTime : float
}
RaftConsensus - -|> AgreementCondition

abstract class External
External - -|> AgreementCondition

object "<domain>" as domain {
  secret = "abcd"
}

abstract class AccessControl <<statutory>> <<extension point>>
domain ..> AccessControl : <<statutory>>\naccess
note on link
added by the app
to specify use of
e.g. Permissions
end note

}
@enduml

PlantUML version 1.2021.10(Mon Aug 30 14:43:48 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>