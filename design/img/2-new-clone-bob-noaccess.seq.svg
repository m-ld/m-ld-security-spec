<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="524px" preserveAspectRatio="none" style="width:730px;height:524px;background:#FFFFFF;" version="1.1" viewBox="0 0 730 524" width="730px" zoomAndPan="magnify"><defs><filter height="300%" id="f1a06lwgimwgz4" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#DDDDDD" height="505.3926" style="stroke:#A80036;stroke-width:1.0;" width="248" x="274" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="83" x="356.5" y="18.5684">Bob's device</text><rect fill="#FFFFFF" filter="url(#f1a06lwgimwgz4)" height="67.6211" style="stroke:#A80036;stroke-width:1.0;" width="10" x="218" y="268.2188"/><rect fill="#FFFFFF" filter="url(#f1a06lwgimwgz4)" height="71.6211" style="stroke:#A80036;stroke-width:1.0;" width="10" x="491.5" y="427.7715"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="223" x2="223" y1="87.7988" y2="517.3926"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="294" x2="294" y1="87.7988" y2="517.3926"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="496" x2="496" y1="186.3535" y2="517.3926"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="674.5" x2="674.5" y1="87.7988" y2="517.3926"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="178" y="84.8457">Alice's clone</text><path d="M205,35.3105 C205,25.3105 223,25.3105 223,25.3105 C223,25.3105 241,25.3105 241,35.3105 L241,61.3105 C241,71.3105 223,71.3105 223,71.3105 C223,71.3105 205,71.3105 205,61.3105 L205,35.3105 " fill="#FEFECE" filter="url(#f1a06lwgimwgz4)" style="stroke:#000000;stroke-width:1.5;"/><path d="M205,35.3105 C205,45.3105 223,45.3105 223,45.3105 C223,45.3105 241,45.3105 241,35.3105 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="278" y="84.8457">app</text><ellipse cx="294" cy="55.3105" fill="#FEFECE" filter="url(#f1a06lwgimwgz4)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="290,43.3105,296,38.3105,294,43.3105,296,48.3105,290,43.3105" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1a06lwgimwgz4)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="88" x="628.5" y="52.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="635.5" y="72.8457">messaging</text><rect fill="#FFFFFF" filter="url(#f1a06lwgimwgz4)" height="67.6211" style="stroke:#A80036;stroke-width:1.0;" width="10" x="218" y="268.2188"/><rect fill="#FFFFFF" filter="url(#f1a06lwgimwgz4)" height="71.6211" style="stroke:#A80036;stroke-width:1.0;" width="10" x="491.5" y="427.7715"/><line style="stroke:#A80036;stroke-width:1.0;" x1="294" x2="336" y1="119.1094" y2="119.1094"/><line style="stroke:#A80036;stroke-width:1.0;" x1="336" x2="336" y1="119.1094" y2="132.1094"/><line style="stroke:#A80036;stroke-width:1.0;" x1="295" x2="336" y1="132.1094" y2="132.1094"/><polygon fill="#A80036" points="305,128.1094,295,132.1094,305,136.1094,301,132.1094" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="301" y="114.3672">Authenticate Bob</text><polygon fill="#A80036" points="463,157.4199,473,161.4199,463,165.4199,467,161.4199" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="294" x2="469" y1="161.4199" y2="161.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="301" y="156.6777">start on</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="104" x="354" y="156.354">domain.ex.org</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="475" y="199.6445">clone</text><path d="M478.5,150.1094 C478.5,140.1094 496.5,140.1094 496.5,140.1094 C496.5,140.1094 514.5,140.1094 514.5,150.1094 L514.5,176.1094 C514.5,186.1094 496.5,186.1094 496.5,186.1094 C496.5,186.1094 478.5,186.1094 478.5,176.1094 L478.5,150.1094 " fill="#FEFECE" filter="url(#f1a06lwgimwgz4)" style="stroke:#000000;stroke-width:1.5;"/><path d="M478.5,150.1094 C478.5,160.1094 496.5,160.1094 496.5,160.1094 C496.5,160.1094 514.5,160.1094 514.5,150.1094 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><polygon fill="#A80036" points="662.5,229.9082,672.5,233.9082,662.5,237.9082,666.5,233.9082" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="496.5" x2="668.5" y1="233.9082" y2="233.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="503.5" y="229.166">connect</text><polygon fill="#A80036" points="239,264.2188,229,268.2188,239,272.2188,235,268.2188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="233" x2="495.5" y1="268.2188" y2="268.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="245" y="263.4766">snapshot request</text><path d="M5,246.9082 L5,271.9082 L209,271.9082 L209,256.9082 L199,246.9082 L5,246.9082 " fill="#FBFB77" filter="url(#f1a06lwgimwgz4)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M199,246.9082 L199,256.9082 L209,256.9082 L199,246.9082 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="11" y="264.4766">signed with Bob's private key</text><rect fill="#FBFB77" filter="url(#f1a06lwgimwgz4)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="188" x="129" y="286.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="133" y="302.7871">check Bob read access → OK</text><polygon fill="#A80036" points="484.5,331.8398,494.5,335.8398,484.5,339.8398,488.5,335.8398" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="223" x2="490.5" y1="335.8398" y2="335.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="230" y="331.0977">snapshot</text><polygon fill="#A80036" points="662.5,361.1504,672.5,365.1504,662.5,369.1504,666.5,365.1504" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="496.5" x2="668.5" y1="365.1504" y2="365.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="503.5" y="360.4082">connect domain channel</text><rect fill="#FBFB77" filter="url(#f1a06lwgimwgz4)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="123" x="232" y="378.1504"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="48" x="236" y="394.395">INSERT</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="288" y="394.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="63" x="288" y="394.7188">[anything]</text><polygon fill="#A80036" points="479.5,423.7715,489.5,427.7715,479.5,431.7715,483.5,427.7715" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="294" x2="485.5" y1="427.7715" y2="427.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="301" y="423.0293">Op1 ≪transaction≫</text><line style="stroke:#A80036;stroke-width:1.0;" x1="501.5" x2="543.5" y1="457.082" y2="457.082"/><line style="stroke:#A80036;stroke-width:1.0;" x1="543.5" x2="543.5" y1="457.082" y2="470.082"/><line style="stroke:#A80036;stroke-width:1.0;" x1="502.5" x2="543.5" y1="470.082" y2="470.082"/><polygon fill="#A80036" points="512.5,466.082,502.5,470.082,512.5,474.082,508.5,470.082" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="508.5" y="452.3398">ACL constraint check</text><polygon fill="#A80036" points="305,495.3926,295,499.3926,305,503.3926,301,499.3926" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="299" x2="495.5" y1="499.3926" y2="499.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="126" x="311" y="494.6504">reject: unauthorised</text><!--MD5=[64b32aa71f73f65af66137670cfc0f2f]
@startuml
'https://plantuml.com/sequence-diagram
hide footbox

database "Alice's clone" as genesis
box Bob's device
control "app" as proc2
database "clone" as clone2
end box

proc2 -> proc2: Authenticate Bob
proc2 -> clone2 **: start on ""domain.ex.org""

clone2 -> messaging : connect
clone2 -> genesis ++: snapshot request
note left
signed with Bob's private key
end note
rnote over genesis
check Bob read access → OK
end note
genesis -> clone2 - -: snapshot
clone2 -> messaging : connect domain channel

rnote over proc2: ""INSERT"" //[anything]//
proc2 -> clone2 ++: Op1 ≪transaction≫

clone2 -> clone2: ACL constraint check

clone2 - -> proc2 - -: //reject: unauthorised//

@enduml

@startuml
hide footbox

database "Alice's clone" as genesis
box Bob's device
control "app" as proc2
database "clone" as clone2
end box

proc2 -> proc2: Authenticate Bob
proc2 -> clone2 **: start on ""domain.ex.org""

clone2 -> messaging : connect
clone2 -> genesis ++: snapshot request
note left
signed with Bob's private key
end note
rnote over genesis
check Bob read access → OK
end note
genesis -> clone2 - -: snapshot
clone2 -> messaging : connect domain channel

rnote over proc2: ""INSERT"" //[anything]//
proc2 -> clone2 ++: Op1 ≪transaction≫

clone2 -> clone2: ACL constraint check

clone2 - -> proc2 - -: //reject: unauthorised//

@enduml

PlantUML version 1.2021.10(Mon Aug 30 14:43:48 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>