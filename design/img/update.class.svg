<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="514px" preserveAspectRatio="none" style="width:999px;height:514px;background:#FFFFFF;" version="1.1" viewBox="0 0 999 514" width="999px" zoomAndPan="magnify"><defs><filter height="300%" id="f8wv1m61vzgva" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[cca5d97aaf46870920fae66c9bd85cdd]
class Operation--><rect codeLine="4" fill="#FEFECE" filter="url(#f8wv1m61vzgva)" height="66.043" id="Operation" style="stroke:#A80036;stroke-width:1.5;" width="92" x="528.54" y="7"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="57" x="546.04" y="23.6016">Operation</text><line style="stroke:#A80036;stroke-width:1.5;" x1="529.54" x2="619.54" y1="31.1328" y2="31.1328"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="80" x="534.54" y="45.7676">deletes : Graph</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="79" x="534.54" y="58.7227">inserts : Graph</text><line style="stroke:#A80036;stroke-width:1.5;" x1="529.54" x2="619.54" y1="65.043" y2="65.043"/><!--MD5=[b46d054eb62dcf823e36cba73476e811]
class OperationSignature--><rect codeLine="9" fill="#FEFECE" filter="url(#f8wv1m61vzgva)" height="78.998" id="OperationSignature" style="stroke:#A80036;stroke-width:1.5;" width="151" x="198.04" y="422"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="110" x="218.54" y="438.6016">OperationSignature</text><line style="stroke:#A80036;stroke-width:1.5;" x1="199.04" x2="348.04" y1="446.1328" y2="446.1328"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="59" x="204.04" y="460.7676">agentId: IRI</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="88" x="204.04" y="473.7227">dataHash: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="139" x="204.04" y="486.6777">idHash: string | undefined</text><line style="stroke:#A80036;stroke-width:1.5;" x1="199.04" x2="348.04" y1="492.998" y2="492.998"/><!--MD5=[ac5e83ec7f21c430bf4e066542bf6122]
class OperationId--><rect codeLine="17" fill="#FEFECE" filter="url(#f8wv1m61vzgva)" height="66.043" id="OperationId" style="stroke:#A80036;stroke-width:1.5;" width="89" x="618.04" y="428.5"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="628.54" y="445.1016">OperationId</text><line style="stroke:#A80036;stroke-width:1.5;" x1="619.04" x2="706.04" y1="452.6328" y2="452.6328"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="77" x="624.04" y="467.2676">from : number</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="62" x="624.04" y="480.2227">time : Clock</text><line style="stroke:#A80036;stroke-width:1.5;" x1="619.04" x2="706.04" y1="486.543" y2="486.543"/><!--MD5=[8833345fc160488d8a581196440a93a7]
class PublishedOperation--><rect codeLine="22" fill="#FEFECE" filter="url(#f8wv1m61vzgva)" height="40.1328" id="PublishedOperation" style="stroke:#A80036;stroke-width:1.5;" width="119" x="811.04" y="235"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="113" x="814.04" y="251.6016">PublishedOperation</text><line style="stroke:#A80036;stroke-width:1.5;" x1="812.04" x2="929.04" y1="259.1328" y2="259.1328"/><line style="stroke:#A80036;stroke-width:1.5;" x1="812.04" x2="929.04" y1="267.1328" y2="267.1328"/><!--MD5=[b09460e7004d11604b8924d85a291459]
class OperationReference--><rect codeLine="25" fill="#FEFECE" filter="url(#f8wv1m61vzgva)" height="40.1328" id="OperationReference" style="stroke:#A80036;stroke-width:1.5;" width="121" x="483.04" y="313"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="115" x="486.04" y="329.6016">OperationReference</text><line style="stroke:#A80036;stroke-width:1.5;" x1="484.04" x2="603.04" y1="337.1328" y2="337.1328"/><line style="stroke:#A80036;stroke-width:1.5;" x1="484.04" x2="603.04" y1="345.1328" y2="345.1328"/><!--MD5=[171fc05333ed8cf342148b31755c8a3f]
class ConstraintResolutionUpdate--><rect codeLine="29" fill="#FEFECE" filter="url(#f8wv1m61vzgva)" height="40.1328" id="ConstraintResolutionUpdate" style="stroke:#A80036;stroke-width:1.5;" width="165" x="492.04" y="149.5"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="159" x="495.04" y="166.1016">ConstraintResolutionUpdate</text><line style="stroke:#A80036;stroke-width:1.5;" x1="493.04" x2="656.04" y1="173.6328" y2="173.6328"/><line style="stroke:#A80036;stroke-width:1.5;" x1="493.04" x2="656.04" y1="181.6328" y2="181.6328"/><path d="M262.04,134 L262.04,205.2422 A0,0 0 0 0 262.04,205.2422 L457.04,205.2422 A0,0 0 0 0 457.04,205.2422 L457.04,173.5 L491.71,169.5 L457.04,165.5 L457.04,144 L447.04,134 L262.04,134 A0,0 0 0 0 262.04,134 " fill="#FBFB77" filter="url(#f8wv1m61vzgva)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M447.04,134 L447.04,144 L457.04,144 L447.04,134 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="268.04" y="151.5684">An update that includes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="268.04" y="166.8789">an operation which violated</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="268.04" y="182.1895">a constraint, with its</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="268.04" y="197.5">resolution.</text><!--MD5=[1184c00b27fb80800e62ba680a3fd1e1]
class AgreementUpdate--><rect codeLine="39" fill="#FEFECE" filter="url(#f8wv1m61vzgva)" height="40.1328" id="AgreementUpdate" style="stroke:#A80036;stroke-width:1.5;" width="111" x="692.04" y="149.5"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="105" x="695.04" y="166.1016">AgreementUpdate</text><line style="stroke:#A80036;stroke-width:1.5;" x1="693.04" x2="802.04" y1="173.6328" y2="173.6328"/><line style="stroke:#A80036;stroke-width:1.5;" x1="693.04" x2="802.04" y1="181.6328" y2="181.6328"/><path d="M804.54,12 L804.54,67.9316 A0,0 0 0 0 804.54,67.9316 L861.73,67.9316 L770.05,149.37 L869.73,67.9316 L990.54,67.9316 A0,0 0 0 0 990.54,67.9316 L990.54,22 L980.54,12 L804.54,12 A0,0 0 0 0 804.54,12 " fill="#FBFB77" filter="url(#f8wv1m61vzgva)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M980.54,12 L980.54,22 L990.54,22 L980.54,12 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="810.54" y="29.5684">An update that comprises</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="810.54" y="44.8789">an agreement and any ops</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="810.54" y="60.1895">that were voided.</text><!--MD5=[689de5982d8e824e86be4fe708c5ec56]
class FusedOperationUpdate--><rect codeLine="48" fill="#FEFECE" filter="url(#f8wv1m61vzgva)" height="40.1328" id="FusedOperationUpdate" style="stroke:#A80036;stroke-width:1.5;" width="139" x="88.04" y="149.5"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="133" x="91.04" y="166.1016">FusedOperationUpdate</text><line style="stroke:#A80036;stroke-width:1.5;" x1="89.04" x2="226.04" y1="173.6328" y2="173.6328"/><line style="stroke:#A80036;stroke-width:1.5;" x1="89.04" x2="226.04" y1="181.6328" y2="181.6328"/><path d="M88.04,305 L88.04,360.9316 A0,0 0 0 0 88.04,360.9316 L281.04,360.9316 A0,0 0 0 0 281.04,360.9316 L281.04,315 L271.04,305 L183.99,305 L160.74,189.66 L175.99,305 L88.04,305 A0,0 0 0 0 88.04,305 " fill="#FBFB77" filter="url(#f8wv1m61vzgva)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M271.04,305 L271.04,315 L281.04,315 L271.04,305 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="94.04" y="322.5684">An update that compresses</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="94.04" y="337.8789">multiple operations from</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="94.04" y="353.1895">a single clone &amp; user.</text><!--MD5=[2d044ed81f02af60ceb873497a07bccb]
reverse link Operation to OperationSignature--><path codeLine="15" d="M514.9,42.83 C393.94,47.94 126.51,66.75 70.54,134 C6,211.54 17.16,275.39 70.54,361 C98.31,405.55 152.48,430.7 197.88,444.58 " fill="none" id="Operation-backto-OperationSignature" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="528.21,42.3,522.0564,38.5406,516.2194,42.7749,522.373,46.5343,528.21,42.3" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[5c3d63fc13ffe6171b8f3d18e6b3274a]
reverse link Operation to PublishedOperation--><path d="M640.5,51.07 C695.01,62.55 771.21,86.29 820.54,134 C849.25,161.77 862.16,208.51 867.4,234.7 " fill="none" id="Operation-backto-PublishedOperation" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="639.07,57.93,620.76,47.25,641.73,44.18,639.07,57.93" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[59a5fd9fbeb36bbbf8e6c1497dbda797]
reverse link PublishedOperation to OperationId--><path codeLine="23" d="M841.41,284.64 C803.01,322.39 735.64,388.63 695.44,428.15 " fill="none" id="PublishedOperation-backto-OperationId" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="850.97,275.24,843.8871,276.5937,842.4125,283.6525,849.4954,282.2987,850.97,275.24" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[054289526dbba5162fcd2128ce601c57]
reverse link OperationReference to OperationSignature--><path codeLine="26" d="M490.84,358.69 C450.49,377.6 394.27,403.93 349.13,425.08 " fill="none" id="OperationReference-backto-OperationSignature" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="502.83,353.08,495.6998,352.003,491.9632,358.1705,499.0934,359.2475,502.83,353.08" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[cc3bd67f645e0ea325f3f08834c2ffb6]
reverse link OperationReference to OperationId--><path codeLine="27" d="M570.61,362.78 C588.96,382.29 613.24,408.1 632.24,428.29 " fill="none" id="OperationReference-backto-OperationId" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="561.61,353.21,562.8147,360.3198,569.841,361.9422,568.6362,354.8324,561.61,353.21" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[7ab945c2bd7c73c1401b1ec683f1f583]
reverse link Operation to ConstraintResolutionUpdate--><path d="M574.54,93.35 C574.54,113.19 574.54,134.56 574.54,149.42 " fill="none" id="Operation-backto-ConstraintResolutionUpdate" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="567.54,93.17,574.54,73.17,581.54,93.17,567.54,93.17" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[ae4c87283c5c0f7d5f1aa64b0eb95e0b]
reverse link ConstraintResolutionUpdate to OperationReference--><path codeLine="36" d="M509.45,194.68 C480.31,206.96 450.67,221.98 442.54,235 C433.12,250.08 433.58,259.65 442.54,275 C452.39,291.87 469.27,304.13 486.45,312.87 " fill="none" id="ConstraintResolutionUpdate-backto-OperationReference" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="521.84,189.6,514.7714,188.1735,510.736,194.1498,517.8046,195.5762,521.84,189.6" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="443.54" y="252.5684">«trigger»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="445.54" y="267.8789">resolves</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="467.1865" y="305.3605">1</text><!--MD5=[ae4c87283c5c0f7d5f1aa64b0eb95e0b]
reverse link ConstraintResolutionUpdate to OperationReference--><path codeLine="37" d="M554.65,200.9 C548.92,211.29 543.45,223.25 540.54,235 C534.02,261.33 536.89,292.91 539.92,312.72 " fill="none" id="ConstraintResolutionUpdate-backto-OperationReference-1" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="561.34,189.54,554.8477,192.6785,555.2477,199.8785,561.74,196.74,561.34,189.54" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="545.54" y="252.5684">«trigger»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="541.54" y="267.8789">resolution</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="529.6816" y="302.1541">1</text><!--MD5=[6f34ecb9d008a5069f4eef0708337029]
reverse link Operation to AgreementUpdate--><path d="M634.6,85.26 C664.35,107.19 698.72,132.52 721.65,149.42 " fill="none" id="Operation-backto-AgreementUpdate" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="630.14,90.67,618.19,73.17,638.45,79.4,630.14,90.67" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[e7395c3631e118f37a9a0bc8aecb1d7e]
reverse link AgreementUpdate to OperationReference--><path codeLine="45" d="M742.96,202.65 C738.11,225.63 728.26,255.76 708.54,275 C680.56,302.3 638.88,316.56 604.41,323.99 " fill="none" id="AgreementUpdate-backto-OperationReference" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="745.33,189.76,740.3141,194.9408,743.1671,201.5635,748.1831,196.3827,745.33,189.76" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="733.54" y="252.5684">«trigger»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="740.54" y="267.8789">agreed</text><!--MD5=[e7395c3631e118f37a9a0bc8aecb1d7e]
reverse link AgreementUpdate to OperationReference--><path codeLine="46" d="M698.01,196.18 C679.61,206.9 659.19,220.29 642.54,235 C625.48,250.07 626.39,258.66 610.54,275 C597.46,288.48 581.48,302.17 568.41,312.75 " fill="none" id="AgreementUpdate-backto-OperationReference-1" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="709.44,189.7,702.2482,189.1725,698.9952,195.6082,706.187,196.1357,709.44,189.7" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="643.54" y="252.5684">«trigger»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="650.54" y="267.8789">voided</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="6" x="568.8343" y="302.1929">*</text><!--MD5=[1c354eb5ba1cfd52c0b7af548541c441]
reverse link Operation to FusedOperationUpdate--><path d="M508.98,57.35 C441.95,74.56 335.11,103.37 244.54,134 C230.99,138.58 216.48,144.09 203.27,149.35 " fill="none" id="Operation-backto-FusedOperationUpdate" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="507.33,50.55,528.44,52.39,510.79,64.11,507.33,50.55" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[5b7af95a4e71b20a89824e9c1aa5464a]
reverse link FusedOperationUpdate to OperationReference--><path codeLine="54" d="M204.08,195.82 C246.46,218.3 311.14,251.18 369.54,275 C406.48,290.07 449.02,304.06 482.79,314.41 " fill="none" id="FusedOperationUpdate-backto-OperationReference" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="192.47,189.63,195.8834,195.9821,203.0597,195.2743,199.6463,188.9223,192.47,189.63" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="370.54" y="252.5684">«trigger»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="381.54" y="267.8789">fuses</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="6" x="469.0205" y="325.6376">*</text><!--MD5=[dc24f2d0a629ec2c67e3725f4cc5895d]
@startuml
'https://plantuml.com/class-diagram
hide circle

class Operation {
  deletes : Graph
  inserts : Graph
}

class OperationSignature {
  agentId: IRI
  dataHash: string
  idHash: string | undefined
}

Operation *- - OperationSignature

class OperationId {
  from : number
  time : Clock
}

class PublishedOperation extends Operation
PublishedOperation *- - OperationId

class OperationReference
OperationReference *- - OperationSignature
OperationReference *- - OperationId

class ConstraintResolutionUpdate extends Operation
note left of ConstraintResolutionUpdate
An update that includes
an operation which violated
a constraint, with its
resolution.
end note
ConstraintResolutionUpdate *- - "1" OperationReference : <<trigger>>\nresolves
ConstraintResolutionUpdate *- - "1" OperationReference : <<trigger>>\nresolution

class AgreementUpdate extends Operation
note top of AgreementUpdate
An update that comprises
an agreement and any ops
that were voided.
end note
AgreementUpdate *- - OperationReference : <<trigger>>\nagreed
AgreementUpdate *- - "*" OperationReference : <<trigger>>\nvoided

class FusedOperationUpdate extends Operation
note bottom of FusedOperationUpdate
An update that compresses
multiple operations from
a single clone & user.
end note
FusedOperationUpdate *- - "*" OperationReference : <<trigger>>\nfuses

@enduml

@startuml
hide circle

class Operation {
  deletes : Graph
  inserts : Graph
}

class OperationSignature {
  agentId: IRI
  dataHash: string
  idHash: string | undefined
}

Operation *- - OperationSignature

class OperationId {
  from : number
  time : Clock
}

class PublishedOperation extends Operation
PublishedOperation *- - OperationId

class OperationReference
OperationReference *- - OperationSignature
OperationReference *- - OperationId

class ConstraintResolutionUpdate extends Operation
note left of ConstraintResolutionUpdate
An update that includes
an operation which violated
a constraint, with its
resolution.
end note
ConstraintResolutionUpdate *- - "1" OperationReference : <<trigger>>\nresolves
ConstraintResolutionUpdate *- - "1" OperationReference : <<trigger>>\nresolution

class AgreementUpdate extends Operation
note top of AgreementUpdate
An update that comprises
an agreement and any ops
that were voided.
end note
AgreementUpdate *- - OperationReference : <<trigger>>\nagreed
AgreementUpdate *- - "*" OperationReference : <<trigger>>\nvoided

class FusedOperationUpdate extends Operation
note bottom of FusedOperationUpdate
An update that compresses
multiple operations from
a single clone & user.
end note
FusedOperationUpdate *- - "*" OperationReference : <<trigger>>\nfuses

@enduml

PlantUML version 1.2021.10(Mon Aug 30 14:43:48 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>